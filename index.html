<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quiz App - Tr·∫Øc Nghi·ªám Th√¥ng Minh</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="quiz-container">
      <header>
        <div class="header-content">
          <div style="flex: 1">
            <div class="progress-info">
              <span id="questionCounter">Ch·ªçn ch·∫ø ƒë·ªô ƒë·ªÉ b·∫Øt ƒë·∫ßu</span>
              <span id="timer">00:00</span>
            </div>
            <div class="progress-container">
              <div class="progress-bar" id="progressBar"></div>
            </div>
          </div>
          <button class="btn btn-help" id="helpButton" title="Ph√≠m t·∫Øt">
            <i class="fas fa-question-circle"></i>
          </button>
          <button
            class="btn btn-shuffle"
            onclick="shuffleQuestions()"
            id="shuffleButton"
            style="display: none"
          >
            <i class="fas fa-random"></i> X√°o tr·ªôn
          </button>
          <button
            class="btn btn-end"
            id="endButton"
            onclick="endQuiz()"
            style="display: none"
          >
            <i class="fas fa-stop"></i> K·∫øt th√∫c
          </button>
        </div>
      </header>

      <!-- Ch·ªçn ch·∫ø ƒë·ªô -->
      <div id="modeSelection" class="mode-selection">
        <button class="mode-btn" onclick="startMode('all')">
          <i class="fas fa-list-ol"></i> L√†m t·∫•t c·∫£
        </button>
        <button class="mode-btn" onclick="startMode('part')">
          <i class="fas fa-th-large"></i> L√†m theo ph·∫ßn (50 c√¢u)
        </button>
        <button class="mode-btn" onclick="startMode('wrong')">
          <i class="fas fa-redo"></i> L√†m l·∫°i c√¢u sai
        </button>
        <button class="mode-btn random" onclick="startMode('random')">
          <i class="fas fa-dice"></i> Thi th·ª≠ 40 c√¢u
        </button>
      </div>

      <!-- Khu v·ª±c l√†m b√†i -->
      <div id="quizArea" class="quiz-area">
        <div id="partSelector" class="part-selector" style="display: none">
          <label for="partSelect"><strong>Ch·ªçn ph·∫ßn:</strong></label>
          <select id="partSelect" onchange="selectPart(this.value)"></select>
        </div>
        <div id="quizForm" class="quiz-form-container"></div>
      </div>
    </div>

    <!-- Modal K·∫øt qu·∫£ -->
    <div id="resultModal" class="modal">
      <div class="modal-content">
        <h3>K·∫øt qu·∫£ b√†i l√†m</h3>
        <div class="modal-score" id="modalScore">0 / 0</div>
        <div class="modal-stats">
          <div class="modal-stat">
            ƒê√∫ng: <strong id="modalCorrect">0</strong>
          </div>
          <div class="modal-stat">Sai: <strong id="modalWrong">0</strong></div>
          <div class="modal-stat">
            T·ª∑ l·ªá: <strong id="modalPercent">0%</strong>
          </div>
          <div class="modal-stat">
            Th·ªùi gian: <strong id="modalTime">00:00</strong>
          </div>
        </div>
        <div style="display: flex; gap: 8px">
          <button
            class="btn btn-end"
            onclick="retryWrongInSession()"
            id="retryWrongSession"
            style="display: none"
          >
            L√†m l·∫°i c√¢u sai
          </button>
          <button class="btn btn-next" onclick="closeModal()">Quay l·∫°i</button>
        </div>
      </div>
    </div>

    <!-- Modal Ph√≠m t·∫Øt -->
    <div id="helpModal" class="modal">
      <div class="modal-content">
        <h3><i class="fas fa-keyboard"></i> Ph√≠m t·∫Øt</h3>
        <div class="keyboard-help">
          <ul>
            <li>
              <div><kbd>1</kbd> <kbd>2</kbd> <kbd>3</kbd> <kbd>4</kbd></div>
              <div><kbd>A</kbd> <kbd>B</kbd> <kbd>C</kbd> <kbd>D</kbd></div>
            </li>
            <li><kbd>‚Üí</kbd><kbd>C√¢u ti·∫øp theo</kbd></li>
            <li><kbd>‚Üê</kbd> <kbd>C√¢u tr∆∞·ªõc</kbd></li>
            <li><kbd>S</kbd> <kbd>X√°o tr·ªôn</kbd></li>
            <li><kbd>E</kbd> <kbd>K·∫øt th√∫c</kbd></li>
            <li><kbd>Space</kbd> <kbd>Preview ƒë√°p √°n</kbd></li>
          </ul>
        </div>
        <button class="btn" onclick="closeHelpModal()">ƒê√≥ng</button>
      </div>
    </div>

    <!-- Modal AI -->
    <div id="aiModal" class="modal">
      <div class="modal-content ai-modal">
        <h3 id="aiModalTitle">üß† Ph√¢n t√≠ch b·∫±ng AI</h3>
        <div
          id="aiModalBody"
          style="margin-top: 10px; line-height: 1.5; color: #333"
        >
          <!-- N·ªôi dung AI hi·ªÉn th·ªã ·ªü ƒë√¢y -->
        </div>
        <button class="btn" onclick="closeAiModal()" style="margin-top: 15px">
          ƒê√≥ng
        </button>
      </div>
    </div>

    <script src="main.js"></script>
  </body>
</html>
